{% extends 'base.html' %}

{% block content %}

<div class="container">
    <h3 class="text-center mb-5 mt-4">Dashboard - {{ user.role }}</h3>
    
    <!-- Table -->
    <table class="table table-bordered table-hover table-striped" style="font-size: 1rem;">
        <thead class="table-dark">
            <tr>
                <th class="text-center">Title</th>
                <th class="text-center">Description</th>
                <th class="text-center">Assigned To</th>
                <th class="text-center">Status</th>
                <th class="text-center">Deadline</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <td class="text-center">{{ task.title }}</td>
                <td class="text-center">{{ task.description }}</td>
                <td class="text-center">{{ task.assigned_to }} - {{ task.assigned_to_name }}</td>
                <td class="text-center">{{ task.status }}</td>
                <td class="text-center">{{ task.deadline }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Button Below the Table (Aligned Right with More Gap) -->
    <div class="text-end mb-5">
        <a href="/assign" class="btn btn-primary task-btn">Assign New Task</a>
    </div>
</div>

{% endblock %}

{% block styles %}
<style>
    /* Hover and Bounce Animation for the Button */
    .task-btn {
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .task-btn:hover {
        background-color:#ffffff; /* Change to a darker shade on hover */
        transform: scale(1.1); /* Slightly increase size */
        animation: bounce 0.6s ease infinite;
    }

    /* Bounce Effect */
    @keyframes bounce {
        0% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
        100% {
            transform: translateY(0);
        }
    }
</style>
{% endblock %}
